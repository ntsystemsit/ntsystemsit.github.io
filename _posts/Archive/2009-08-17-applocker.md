---
layout: post
title: "AppLocker"
date: 2009-08-17 19:31:21 +0200
comments: true
category: Archive
tags: ["Client", "Server"]
redirect_from: ["/post/AppLocker", "/post/applocker"]
author: daniel nitz
language: de
---
<!-- more -->
<p>In <a href="/post/Windows-7-Neuerungen-auf-den-ersten-Blick.aspx" target="_blank">einem meiner letzten Beiträge</a> habe ich kurz über ein paar Neuerungen von Windows 7 berichtet. Mittlerweile habe ich mir das Feature “AppLocker” näher angeschaut:</p>  <p>Mit AppLocker kann man den Clientcomputer noch besser schützen, indem man nun sehr viel genauer vorgeben kann welche Anwendungen ein Benutzer ausführen bzw. installieren darf. AppLocker kann über ein Domänen- oder über die lokale-GPO konfiguriert werden.</p>  <p>Wie man AppLocker verwendet zeige ich Anhand von folgendem Beispiel: Benutzern ist es nur erlaubt Applikationen auszuführen, die sich unter %Programfiles% und %Windir% befinden. Benutzer die der Gruppe “Not Restr Access” angehören ist es außerdem erlaubt das Testprogramm “Excel Viewer 2003” aus dem Verzeichnis “C:\Program Files 2” zu starten. </p>  <p>Als erstes öffnet man das GPO und wechselt zur Option “AppLocker”</p>  <p><a href="/assets/archive/image_52.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_52.png" width="244" height="176" /></a>&#160;</p>  <p>Für die Option <strong>Executable Rules </strong>lassen wir die Standardregeln generieren (“Create default Rules”). Nachdem diese konfiguriert sind, findet man 3 Regeln vor:    <br />    <br />1. Admins dürfen alle Programme aufrufen    <br />2. User dürfen Programme aus %Windir% starten    <br />3. User dürfen Programme aus “%Programfiles% starten</p>  <p><a href="/assets/archive/image_53.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_53.png" width="244" height="176" /></a> </p>  <p>Jetzt müssen wir eine neue Regel erstellen, die der Benutzergruppe “Not Restr Access” erlaubt unsere Testapplikation zu starten. Über <strong>“Create New Rule”</strong> wird der entsprechende Wizard gestartet.</p>  <p><a href="/assets/archive/image_54.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_54.png" width="244" height="161" /></a> </p>  <p>Wir wählen die Option “Allow” und beziehen die Regel auf die Gruppe “Not Restr Access”.</p>  <p><a href="/assets/archive/image_55.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_55.png" width="244" height="203" /></a> </p>  <p>Jetzt haben wir 3 Möglichkeiten. Über die Option <strong>Publisher</strong> kann ein einzelnes signiertes Programm freigegeben oder gesperrt werden, über die Option <strong>Path</strong> ein ganzer Pfad und über die Option <strong>File Hash</strong> eine nicht-signierte Applikation. Im unseren Beispiel wählen wir die Option <strong>Publisher</strong>, da der Excel Viewer von Microsoft zertifiziert ist. Nachdem die Applikation ausgewählt wurde, kann über einen Schieberegler die Genauigkeit der Prüfung von AppLocker eingestellt werden. (Bsp. AppLocker soll nur den Dateinamen, nicht die Dateiversion prüfen)</p>  <p><a href="/assets/archive/image_56.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_56.png" width="244" height="205" /></a> </p>  <p>Wenn nötig können im nächsten Schritt noch Ausnahmen definiert werden. Somit haben wir unsere Regel definiert.</p>  <p><strong>Wichtig:</strong> AppLocker ist auf einen Dienst angewiesen der aus Sicherheitsgründen nicht automatisch startet. Damit die Einstellungen greifen, muss der Dienst <strong>“Application Identity”</strong> gestartet werden. Ich empfehle den Dienst solange im Startmodus “Manuell” zu belassen, bis alle Einstellungen passen.</p>  <p><a href="/assets/archive/image_57.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_57.png" width="244" height="179" /></a> </p>  <p>Wenn wir jetzt den Test machen, können Benutzer aus der Gruppe “Not Restr Access” problemlos den Excel Viewer starten. Benutzer, die nicht dieser Gruppe angehören, erhalten eine Fehlermeldung.</p>  <p><a href="/assets/archive/image_58.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_58.png" width="244" height="62" /></a> </p>  <p>Grüße, dn</p>
{% include imported_disclaimer.html %}
