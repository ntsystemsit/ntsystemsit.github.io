---
layout: post
title: "WebDav, IIS7 publishing over ISA Server Part 2"
date: 2010-09-02 17:25:00 +0200
comments: true
category: Archive
tags: ["Client", "Server"]
redirect_from: ["/post/WebDav-IIS7-publishing-ober-ISA-Server-Part-2", "/post/webdav-iis7-publishing-ober-isa-server-part-2"]
author: daniel nitz
language: de
---
<!-- more -->
<p>Wie versprochen hier der 2. Teil meiner WebDav Reihe. In diesem Post geht es darum das WebDav Verzeichnis mit dem ISA Server zu veröffentlichen.</p>  <p>Als erstes erstellen wir eine neue Webveröffentlichungsregel:</p>  <p><a href="/assets/archive/image_251.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_249.png" width="244" height="234" /></a></p>  <p>Wir geben an, dass wir eine einzelne Webseite veröffentlichen und wählen bei Sicherheit SSL aus</p>  <p><a href="/assets/archive/image_252.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_250.png" width="244" height="235" /></a></p>  <p>Nun müssen wir den Sitenamen inkl. IP Adresse (sofern dieser nicht aufgelöst werden kann) vergeben</p>  <p><a href="/assets/archive/image_253.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_251.png" width="244" height="235" /></a></p>  <p>Danach geben wir den Pfad an, für welchen die Veröffentlichungsregel wirken soll, bzw. auf welchen Ordner der externe Zugriff beschränkt werden soll.</p>  <p><a href="/assets/archive/image_254.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_252.png" width="244" height="237" /></a></p>  <p>Nun tragen wir noch den externen Namen ein</p>  <p><a href="/assets/archive/image_255.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_253.png" width="244" height="239" /></a></p>  <p><strong>INFO</strong>: Sollte euer Pfad Leerzeichen haben, ist das für den ISA Server kein Problem. Man muss die Leerzeichen <strong>nicht</strong> durch <strong>%20</strong> ersetzen, sondern kann die URL ganz normal eingeben.</p>  <p>Als nächstes erstellen wir einen neuen Listener und weisen ihn an, dass eine SSL Verbindung erforderlich ist</p>  <p><a href="/assets/archive/image_256.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_254.png" width="244" height="229" /></a></p>  <p>Jetzt wählen wir IP Adresse und das entsprechende Zertifikat aus. Sofern dies noch nicht auf dem ISA Server installiert wurde, muss es jetzt nachinstalliert werden.</p>  <p>Als Authentifizierung wählen wir die <strong>HTTP Authentifizierung – Standard</strong></p>  <p><a href="/assets/archive/image_257.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_255.png" width="244" height="228" /></a></p>  <p>Als Authentifizierungsdelegierung nehmen wir <strong>NTLM</strong></p>  <p><a href="/assets/archive/image_258.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_256.png" width="244" height="236" /></a></p>  <p>Zum Schluss kann man noch eine Gruppe angeben, auf welche die Veröffentlichungsregel beschränkt ist.</p>  <p>&#160;</p>  <p>Das Standardverhalten des Client ist es, den veröffentlichen Ordner selbst durch die <strong>HTTP Methode OPTIONS </strong>abzufragen. Damit die Verbindung nicht fehlschlägt, müssen wir dies zulassen und dürfen es nicht wie durch die bereits erstellte Regel mit den zugelassenen Pfaden blockieren. Wir kopieren die <strong>neu erstelle Regel </strong>und platzieren sie<strong> unter</strong> der ersten Regel. Danach werden die die HTTP Methode auf OPTIONS beschränken.</p>  <p>Nun geben wir der kopierten Regel einen neuen Namen (Bsp: WebDav – OPTIONS) um sie von der ersten Regel zu unterscheiden. Wir löschen zudem unter dem Reiter <strong>Pfade</strong> die Ordnerbeschränkung.</p>  <p><a href="/assets/archive/image_259.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_257.png" width="193" height="244" /></a></p>  <p>Als nächstes wird die HTTP Methode auf OPTIONS beschränkt. Wir öffnen die HTTP Richtlinie und tragen die Methode ein:</p>  <p><a href="/assets/archive/image_260.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_258.png" width="221" height="244" /></a></p>  <p>&#160;</p>  <p><strong>ACHTUNG: Ordner mit Umlaute</strong></p>  <p>Wenn ihr Ordner mit Umlaute verwendet, wird die Verbindung beim versuch die Ordner zu öffnen, immer zusammenbrechen. Der Grund hierfür liegt darin, dass das <strong>High Bit-Zeichen </strong>standardmäßig deaktiviert ist. Dieses High Bit-Zeichen lässt Umlaute in der URL zu. Ich empfehle auf beiden Veröffentlichungen WebDav und WebDav Options das High Bit-Zeichen zu erlauben.     <br />Dies kann ebenfalls in der jeweiligen HTTP Richtlinie vorgenommen werden:</p>  <p><a href="/assets/archive/image_261.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/archive/image_thumb_259.png" width="224" height="244" /></a></p>  <p>Nun kann der Client den Ordner via HTTPS von Extern mappen.</p>  <p>Grüße   <br />dn</p>
{% include imported_disclaimer.html %}
