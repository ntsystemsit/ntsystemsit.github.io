---
layout: post
title: "Windows Server 2012 – DirectAccess"
date: 2012-11-11 16:50:16 +0100
comments: true
category: Archive
tags: ["Server-2012", "Server"]
redirect_from: ["/post/Windows-Server-2012-DirectAccess", "/post/windows-server-2012-directaccess"]
author: thomas torggler
---
<!-- more -->
<p>DirectAccess is a feature that has been introduced in Windows Server 2008R2 and Windows 7. It allows secure access to enterprise resources, without requiring a manual VPN connection. A DirectAccess enabled computer establishes a secure connection to the DirectAccess server every time the computer is connected to the internet.</p>  <p>Windows Server 2012 and Windows 8 really simplify the configuration required for DA, making it much easier to deploy a remote access solution.</p>  <h2>Requirements</h2>  <p>The only requirement is the installation of a Windows Server 2012 member server, providing the “head end” of the connection. No Active Directory, schema, forest, domain-level updates are required.</p>  <p>The DA Server needs two network adapters, one connected to the internal LAN, the other one connected to a DMZ or public network.</p>  <p><a href="/assets/archive/image_454.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="/assets/archive/image_thumb_452.png" width="244" height="92" /></a>&#160;</p>  <p>If the DA Server is located behind a firewall, https (tcp/443) has do be allowed from the internet to the “public” network adapter.</p>  <p>DirectAccess relies on IPv6 technology, the only hosts that require an IPv6 address are the DirectAccess Server and clients, though. The DA server performs NAT64 and DNS64 in order to enable the DA client to access IPv4 only servers.</p>  <h2></h2>  <h2>Installation</h2>  <p>Use ServerManager or PowerShell to install the Remote Access server role on the designated DirectAccess server.</p>  <p><a href="/assets/archive/image_455.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="/assets/archive/image_thumb_453.png" width="244" height="243" /></a> </p>  <p>Once installed, use the “Getting started” wizard to configure DirectAccess. The wizard can be started from ServerManager or from within the “Remote Access Management Console”.</p>  <p>Select “Deploy DirectAccess only” in the wizard.</p>  <p><a href="/assets/archive/image_456.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="/assets/archive/image_thumb_454.png" width="244" height="202" /></a> </p>  <p>Select the network topology to be used, in this example I am using a server with two network adapters, one connected to a DMZ and one connected to my LAN. Specify the name (or public IP) that clients will be using to connect. </p>  <p><a href="/assets/archive/image_457.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="/assets/archive/image_thumb_455.png" width="244" height="202" /></a> </p>  <p></p>  <p>And that’s all there is about it, it’s called “simplified deployment”. The Wizard goes ahead and creates Group Policies for DA Servers and Clients, creates DNS records for Network Location. Pretty cool, eh?</p>  <p>To modify the settings, click the “here” link on the last page of the wizard, for my test environment I go with the defaults.</p>  <p></p>  <p></p>  <p></p>  <p><a href="/assets/archive/image_458.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="/assets/archive/image_thumb_456.png" width="244" height="202" /></a></p>  <p>As the wizard finishes, it shows some information about what it did.</p>  <p><a href="/assets/archive/image_459.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; border-bottom-width: 0px; display: inline; border-top-width: 0px" border="0" alt="image" src="/assets/archive/image_thumb_457.png" width="236" height="244" /></a></p>  <h2>DirectAccess Server </h2>  <p>The DirectAccess Configuration can be shown and changed in the Remote Access Management Console.</p>  <p><a href="/assets/archive/image_460.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="/assets/archive/image_thumb_458.png" width="244" height="132" /></a> </p>  <p>The Dashboard and Operations Status panels do provide information about the servers status, required services and connected clients.</p>  <p><a href="/assets/archive/image_461.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="/assets/archive/image_thumb_459.png" width="244" height="132" /></a> </p>  <p></p>  <h2>DirectAccess Clients</h2>  <p>The wizard created a Group Policy Object, named “DirectAccess Client Settings” and a WMI Filter, to apply that GPO to Notebooks running Windows 7 or 8 Enterprise editions. So all I had to do was to update the group policies on the notebook (gpupdate). </p>  <p>As long as it was connected to the LAN nothing changed, if I connected the notebook to the internet, the DA (Workplace Connection) was established automatically and I was able to access internal resources as if I was on the LAN.</p>  <p><a href="/assets/archive/image_462.png"><img title="image" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="image" src="/assets/archive/image_thumb_460.png" width="244" height="139" /></a> </p>  <p>I think this “simplified deployment” really does make it easier to get started with DirectAccess, to deploy it in an enterprise network, one should be a little more familiar with the technology :) </p>  <p>So this post was meant to be a quick-and-dirty intro, stay tuned for more in-depth information.</p>  <p>so long,   <br />tom</p>
{% include imported_disclaimer.html %}
